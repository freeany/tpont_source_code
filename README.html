<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>README</title>
  <!-- <link rel="stylesheet" href="lib/css/monokai-sublime.css"> -->
  <link rel="stylesheet" href="lib/css/default.min.css">
  <link rel="stylesheet" href="lib/css/vs2015.css">
  <link rel="stylesheet" href="lib/css/zTreeStyle/zTreeStyle.css">
  <link rel="stylesheet" href="lib/css/base.css">
  <link rel="stylesheet" href="lib/css/index.css">
</head>

<body>
  <div style='width:25%;'>
    <ul id="tree" class="ztree" style='width:100%'>

    </ul>
  </div>
  <div id='readme' style='width:70%;margin-left:20%;'>
    <article class='markdown-body'><h1 id="-">基本介绍</h1>
<h2 id="-">课程介绍</h2>
<ul>
<li>做什么？</li>
</ul>
<pre><code>Vue进阶-从0到1搭建UI组件库
</code></pre><ul>
<li>哪些内容？</li>
</ul>
<pre><code>封装常见的功能性组件（Button、Modal、Form相关）
把组件封装成UI组件库并且发布到NPM上
</code></pre><ul>
<li>涉及知识点</li>
</ul>
<pre><code class="lang-js">vue基础语法
组件基本语法
组件通讯(sync,provide,inject)
插槽的使用
props校验
过渡与动画处理
计算属性与监听属性
v-model语法糖
vue插件机制
npm发布
</code></pre>
<ul>
<li>课程收货</li>
</ul>
<pre><code class="lang-js">掌握组件封装的语法和技巧
学会造轮子，了解element-ui组件库的实现原理
搭建和积累自己的组件库。
</code></pre>
<ul>
<li>学习前提</li>
</ul>
<pre><code>属于vue的进阶课程，所以要求
1. 有一定的vue基础，懂vue的基本语法
2. 熟悉ES6的一些常见语法
3. 对vue感兴趣。
</code></pre><h2 id="-">效果演示</h2>
<ul>
<li>初始化vue项目</li>
</ul>
<pre><code>vue create demo
</code></pre><ul>
<li>安装组件库</li>
</ul>
<pre><code class="lang-js">yarn add itcast-ui
</code></pre>
<ul>
<li>全局导入</li>
</ul>
<pre><code class="lang-js">import ItcastUI from &#39;itcast-ui&#39;
import &#39;itcast-ui/lib/itcast-ui.css&#39;

Vue.use(ItcastUI)
</code></pre>
<ul>
<li>使用组件</li>
</ul>
<pre><code class="lang-html">&lt;template&gt;
  &lt;div id=&quot;app&quot;&gt;
    &lt;hm-button type=&quot;success&quot; @click=&quot;visible=true&quot;&gt;显示登录框&lt;/hm-button&gt;
    &lt;hm-dialog title=&quot;用户登录&quot; :visible.sync=&quot;visible&quot; width=&quot;30%&quot;&gt;
      &lt;hm-form :model=&quot;model&quot; label-width=&quot;80px&quot;&gt;
        &lt;hm-form-item label=&quot;用户名&quot;&gt;
          &lt;hm-input v-model=&quot;model.username&quot; placeholder=&quot;请输入用户名&quot; clearable&gt;&lt;/hm-input&gt;
        &lt;/hm-form-item&gt;
        &lt;hm-form-item label=&quot;用户密码&quot;&gt;
          &lt;hm-input v-model=&quot;model.password&quot; placeholder=&quot;请输入用户密码&quot; show-password&gt;&lt;/hm-input&gt;
        &lt;/hm-form-item&gt;
        &lt;hm-form-item label=&quot;即时配送&quot;&gt;
          &lt;hm-switch v-model=&quot;model.soon&quot; active-color=&quot;green&quot; inactive-color=&quot;red&quot;&gt;&lt;/hm-switch&gt;
        &lt;/hm-form-item&gt;
        &lt;hm-form-item label=&quot;爱好&quot;&gt;
          &lt;hm-checkbox-group v-model=&quot;model.hobby&quot;&gt;
            &lt;hm-checkbox label=&quot;篮球&quot;&gt;&lt;/hm-checkbox&gt;
            &lt;hm-checkbox label=&quot;足球&quot;&gt;&lt;/hm-checkbox&gt;
            &lt;hm-checkbox label=&quot;乒乓球&quot;&gt;&lt;/hm-checkbox&gt;
          &lt;/hm-checkbox-group&gt;
        &lt;/hm-form-item&gt;
        &lt;hm-form-item label=&quot;性别&quot;&gt;
          &lt;hm-radio-group v-model=&quot;model.gender&quot;&gt;
            &lt;hm-radio label=&quot;1&quot;&gt;男&lt;/hm-radio&gt;
            &lt;hm-radio label=&quot;0&quot;&gt;女&lt;/hm-radio&gt;
          &lt;/hm-radio-group&gt;
        &lt;/hm-form-item&gt;
      &lt;/hm-form&gt;
      &lt;template v-slot:footer&gt;
        &lt;hm-button type=&quot;primary&quot; @click=&quot;login&quot;&gt;登录&lt;/hm-button&gt;
        &lt;hm-button @click=&quot;visible=false&quot;&gt;取消&lt;/hm-button&gt;
      &lt;/template&gt;
    &lt;/hm-dialog&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<h1 id="-">常见组件封装</h1>
<h2 id="-">项目初始化</h2>
<p>使用vue-cli脚手架快速搭建一个vue项目</p>
<pre><code class="lang-js">// 选择scss babel 和 eslint
vue create itcast-ui
</code></pre>
<p>启动项目</p>
<pre><code class="lang-js">cd itcast-ui
yarn serve
</code></pre>
<h2 id="button-">button组件</h2>
<h3 id="-">前置知识</h3>
<pre><code class="lang-js">组件通讯
组件插槽
props校验
</code></pre>
<h3 id="-">参数支持</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数描述</th>
<th>参数类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>按钮类型(primary / success / warning / danger / info)</td>
<td>string</td>
<td>default</td>
</tr>
<tr>
<td>plain</td>
<td>是否是朴素按钮</td>
<td>boolean</td>
<td>false</td>
</tr>
<tr>
<td>round</td>
<td>是否是圆角按钮</td>
<td>boolean</td>
<td>false</td>
</tr>
<tr>
<td>circle</td>
<td>是否是圆形按钮</td>
<td>boolean</td>
<td>false</td>
</tr>
<tr>
<td>disabled</td>
<td>是否禁用按钮</td>
<td>boolean</td>
<td>false</td>
</tr>
<tr>
<td>icon</td>
<td>图标类名</td>
<td>string</td>
<td>无</td>
</tr>
</tbody>
</table>
<h3 id="-">事件支持</h3>
<table>
<thead>
<tr>
<th>事件名</th>
<th>事件描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>click</td>
<td>点击事件</td>
</tr>
</tbody>
</table>
<h3 id="-">基本结构</h3>
<pre><code class="lang-html">&lt;template&gt;
  &lt;button class=&quot;hm-button&quot;&gt;
    &lt;span&gt;&lt;slot&gt;&lt;/slot&gt;&lt;/span&gt;
  &lt;/button&gt;
&lt;/template&gt;
</code></pre>
<p>样式</p>
<pre><code class="lang-scss">.hm-button {
  display: inline-block;
  line-height: 1;
  white-space: nowrap;
  cursor: pointer;
  background: #fff;
  border: 1px solid #dcdfe6;
  color: #606266;
  -webkit-appearance: none;
  text-align: center;
  box-sizing: border-box;
  outline: none;
  margin: 0;
  transition: 0.1s;
  font-weight: 500;
  // 禁止元素的文字被选中
  -moz-user-select: none;
  -webkit-user-select: none;
  -ms-user-select: none;
  padding: 12px 20px;
  font-size: 14px;
  border-radius: 4px;
  &amp;:hover,
  &amp;:focus {
    color: #409eff;
    border-color: #c6e2ff;
    background-color: #ecf5ff;
  }
}
</code></pre>
<h3 id="type-">type属性</h3>
<p>结构</p>
<pre><code class="lang-html">&lt;button class=&quot;hm-button&quot; :class=&quot;[`hm-button--${type}`]&quot;&gt;
</code></pre>
<p>js</p>
<pre><code class="lang-js">props: {
  type: {
    type: String,
    default: &#39;default&#39;
  }
},
</code></pre>
<p>样式</p>
<pre><code class="lang-scss">.hm-button--primary {
  color: #fff;
  background-color: #409eff;
  border-color: #409eff;

  &amp;:hover,
  &amp;:focus {
    background: #66b1ff;
    border-color: #66b1ff;
    color: #fff;
  }
}
.hm-button--success {
  color: #fff;
  background-color: #67c23a;
  border-color: #67c23a;
  &amp;:hover,
  &amp;:focus {
    background: #85ce61;
    border-color: #85ce61;
    color: #fff;
  }
}
.hm-button--info {
  color: #fff;
  background-color: #909399;
  border-color: #909399;
  &amp;:hover,
  &amp;:focus {
    background: #a6a9ad;
    border-color: #a6a9ad;
    color: #fff;
  }
}
.hm-button--warning {
  color: #fff;
  background-color: #e6a23c;
  border-color: #e6a23c;
  &amp;:hover,
  &amp;:focus {
    background: #ebb563;
    border-color: #ebb563;
    color: #fff;
  }
}
.hm-button--danger {
  color: #fff;
  background-color: #f56c6c;
  border-color: #f56c6c;
  &amp;:hover,
  &amp;:focus {
    background: #f78989;
    border-color: #f78989;
    color: #fff;
  }
}
</code></pre>
<h3 id="plain-">plain属性</h3>
<pre><code class="lang-scss">// 朴素的按钮
.hm-button.is-plain {
  &amp;:hover,
  &amp;:focus {
    background: #fff;
    border-color: #409eff;
    color: #409eff;
  }
}
.hm-button--primary.is-plain {
  color: #409eff;
  background: #ecf5ff;
  border-color: #b3d8ff;
  &amp;:hover,
  &amp;:focus {
    background: #409eff;
    border-color: #409eff;
    color: #fff;
  }
}
.hm-button--success.is-plain {
  color: #67c23a;
  background: #f0f9eb;
  border-color: #c2e7b0;
  &amp;:hover,
  &amp;:focus {
    background: #67c23a;
    border-color: #67c23a;
    color: #fff;
  }
}

.hm-button--info.is-plain {
  color: #909399;
  background: #f4f4f5;
  border-color: #d3d4d6;
  &amp;:hover,
  &amp;:focus {
    background: #909399;
    border-color: #909399;
    color: #fff;
  }
}
.hm-button--warning.is-plain {
  color: #e6a23c;
  background: #fdf6ec;
  border-color: #f5dab1;
  &amp;:hover,
  &amp;:focus {
    background: #e6a23c;
    border-color: #e6a23c;
    color: #fff;
  }
}
.hm-button--danger.is-plain {
  color: #f56c6c;
  background: #fef0f0;
  border-color: #fbc4c4;
  &amp;:hover,
  &amp;:focus {
    background: #f56c6c;
    border-color: #f56c6c;
    color: #fff;
  }
}
</code></pre>
<h3 id="round-">round属性</h3>
<pre><code class="lang-scss">.hm-button.is-round {
  border-radius: 20px;
  padding: 12px 23px;
}
</code></pre>
<h3 id="circle-">circle属性</h3>
<pre><code class="lang-scss">// 原形按钮
.hm-button.is-circle {
  border-radius: 50%;
  padding: 12px;
}
</code></pre>
<h3 id="icon-">icon的支持</h3>
<p>在main.js中引入字体图标文件</p>
<pre><code class="lang-js">import &#39;./assets/fonts/font.scss&#39;
</code></pre>
<p>结构</p>
<pre><code class="lang-html">&lt;i :class=&quot;icon&quot; v-if=&quot;icon&quot;&gt;&lt;/i&gt;
&lt;slot&gt;&lt;/slot&gt;
</code></pre>
<p>js</p>
<pre><code class="lang-js">icon: {
  type: String,
  default: &#39;&#39;
}
</code></pre>
<p>样式</p>
<pre><code class="lang-scss">// 按钮后的文本
.hm-button [class*=hm-icon-]+span {
    margin-left: 5px;
}
</code></pre>
<h3 id="-">禁用按钮</h3>
<ul>
<li>props</li>
</ul>
<pre><code class="lang-js">disabled: Boolean
</code></pre>
<ul>
<li>结构</li>
</ul>
<pre><code class="lang-js">  &lt;button class=&quot;hm-button&quot; :class=&quot;[`hm-button--${type}`, {
    &#39;is-plain&#39;: plain,
    &#39;is-round&#39;: round,
    &#39;is-circle&#39;: circle,
    &#39;is-disabled&#39;: disabled
    }]&quot;
    :disabled=&quot;disabled&quot;
    @click=&quot;handleClick&quot;
  &gt;
</code></pre>
<ul>
<li>样式</li>
</ul>
<pre><code class="lang-scss">// 禁用
.hm-button.is-disabled,
.hm-button.is-disabled:focus,
.hm-button.is-disabled:hover {
    color: #c0c4cc;
    cursor: not-allowed;
    background-image: none;
    background-color: #fff;
    border-color: #ebeef5;
}
.hm-button.is-disabled,
.hm-button.is-disabled:focus,
.hm-button.is-disabled:hover {
    color: #c0c4cc;
    cursor: not-allowed;
    background-image: none;
    background-color: #fff;
    border-color: #ebeef5;
}
.hm-button--primary.is-disabled,
.hm-button--primary.is-disabled:active,
.hm-button--primary.is-disabled:focus,
.hm-button--primary.is-disabled:hover {
    color: #fff;
    background-color: #a0cfff;
    border-color: #a0cfff;
}
.hm-button--success.is-disabled,
.hm-button--success.is-disabled:active,
.hm-button--success.is-disabled:focus,
.hm-button--success.is-disabled:hover {
    color: #fff;
    background-color: #b3e19d;
    border-color: #b3e19d;
}
.hm-button--info.is-disabled,
.hm-button--info.is-disabled:active,
.hm-button--info.is-disabled:focus,
.hm-button--info.is-disabled:hover {
    color: #fff;
    background-color: #c8c9cc;
    border-color: #c8c9cc;
}
.hm-button--warning.is-disabled,
.hm-button--warning.is-disabled:active,
.hm-button--warning.is-disabled:focus,
.hm-button--warning.is-disabled:hover {
    color: #fff;
    background-color: #f3d19e;
    border-color: #f3d19e;
}
.hm-button--danger.is-disabled,
.hm-button--danger.is-disabled:active,
.hm-button--danger.is-disabled:focus,
.hm-button--danger.is-disabled:hover {
    color: #fff;
    background-color: #fab6b6;
    border-color: #fab6b6;
}
</code></pre>
<h3 id="click-">click事件支持</h3>
<p>结构</p>
<pre><code class="lang-html">@click=&quot;handleClick&quot;
</code></pre>
<p>js</p>
<pre><code class="lang-js">methods: {
  handleClick (e) {
    this.$emit(&#39;click&#39;, e)
  }
}
</code></pre>
<h2 id="dialog-">dialog组件</h2>
<h3 id="-">前置知识</h3>
<pre><code class="lang-js">vue过渡与动画
sync修饰符
具名插槽与v-slot指令
</code></pre>
<h3 id="-">参数支持</h3>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数描述</th>
<th>参数类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>title</td>
<td>对话框标题</td>
<td>string</td>
<td>提示</td>
</tr>
<tr>
<td>width</td>
<td>宽度</td>
<td>string</td>
<td>50%</td>
</tr>
<tr>
<td>top</td>
<td>与顶部的距离</td>
<td>string</td>
<td>15vh</td>
</tr>
<tr>
<td>visible</td>
<td>是否显示dialog（支持sync修饰符）</td>
<td>boolean</td>
<td>false</td>
</tr>
</tbody>
</table>
<h3 id="-">事件支持</h3>
<table>
<thead>
<tr>
<th>事件名</th>
<th>事件描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>opened</td>
<td>模态框显示的事件</td>
</tr>
<tr>
<td>closed</td>
<td>模态框关闭的事件</td>
</tr>
</tbody>
</table>
<h3 id="-">插槽说明</h3>
<table>
<thead>
<tr>
<th>插槽名称</th>
<th>插槽描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>default</td>
<td>dialog的内容</td>
</tr>
<tr>
<td>title</td>
<td>dialog的标题</td>
</tr>
<tr>
<td>footer</td>
<td>dialog的底部操作区</td>
</tr>
</tbody>
</table>
<h3 id="-">基本结构</h3>
<p>结构</p>
<pre><code class="lang-html">&lt;template&gt;
  &lt;div class=&quot;hm-dialog__wrapper&quot;&gt;
    &lt;div class=&quot;hm-dialog&quot;&gt;
      &lt;div class=&quot;hm-dialog__header&quot;&gt;
        &lt;span class=&quot;hm-dialog__title&quot;&gt;提示&lt;/span&gt;
        &lt;button class=&quot;hm-dialog__headerbtn&quot;&gt;
          &lt;i class=&quot;hm-icon-close&quot;&gt;&lt;/i&gt;
        &lt;/button&gt;
      &lt;/div&gt;
      &lt;div class=&quot;hm-dialog__body&quot;&gt;
        &lt;span&gt;这是一段信息&lt;/span&gt;
      &lt;/div&gt;
      &lt;div class=&quot;hm-dialog__footer&quot;&gt;
        &lt;hm-button&gt;取消&lt;/hm-button&gt;
        &lt;hm-button type=&quot;primary&quot;&gt;确定&lt;/hm-button&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<p>样式</p>
<pre><code class="lang-scss">.hm-dialog__wrapper {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  overflow: auto;
  margin: 0;
  z-index: 2001;
  background-color: rgba(0,0,0, .5);

  .hm-dialog {
    position: relative;
    margin: 15vh auto 50px;
    background: #fff;
    border-radius: 2px;
    box-shadow: 0 1px 3px rgba(0,0,0,.3);
    box-sizing: border-box;
    width: 30%;

    &amp;__header {
      padding: 20px 20px 10px;
      .hm-dialog__title {
        line-height: 24px;
        font-size: 18px;
        color: #303133;
      }
      .hm-dialog__headerbtn {
        position: absolute;
        top: 20px;
        right: 20px;
        padding: 0;
        background: transparent;
        border: none;
        outline: none;
        cursor: pointer;
        font-size: 16px;
        .el-icon-close {
          color: #909399;
        }
      }
    }

    &amp;__body {
      padding: 30px 20px;
      color: #606266;
      font-size: 14px;
      word-break: break-all;
    }
    &amp;__footer {
      padding: 10px 20px 20px;
      text-align: right;
      box-sizing: border-box;
      .hm-button:first-child {
        margin-right: 20px;
      }
    }
  }
}
</code></pre>
<h3 id="title-">title属性</h3>
<blockquote>
<p>title属性既支持传入title属性，也只是传入title插槽</p>
</blockquote>
<p>结构</p>
<pre><code class="lang-html">&lt;slot name=&quot;title&quot;&gt;
  &lt;span class=&quot;hm-dialog__title&quot;&gt;{{title}}&lt;/span&gt;
&lt;/slot&gt;
</code></pre>
<p>js</p>
<pre><code class="lang-js">props: {
  title: {
    type: String,
    default: &#39;提示&#39;
  }
}
</code></pre>
<h3 id="width-top-">width属性与top属性</h3>
<p>结构</p>
<pre><code class="lang-html">&lt;div class=&quot;hm-dialog&quot; :style=&quot;style&quot;&gt;
</code></pre>
<p>js</p>
<pre><code class="lang-js">  props: {
    title: {
      type: String,
      default: &#39;提示&#39;
    },
    width: {
      type: String,
      default: &#39;50%&#39;
    },
    top: {
      tpye: String,
      default: &#39;15vh&#39;
    }
  },
  computed: {
    style () {
      return {
        width: this.width,
        marginTop: this.top
      }
    }
  }
</code></pre>
<h3 id="-">内容插槽</h3>
<pre><code class="lang-html">&lt;div class=&quot;hm-dialog__body&quot;&gt;
  &lt;!-- 默认插槽 --&gt;
  &lt;slot&gt;&lt;/slot&gt;
&lt;/div&gt;
</code></pre>
<h3 id="-">底部插槽</h3>
<pre><code class="lang-html">&lt;div class=&quot;hm-dialog__footer&quot; v-if=&quot;$slots.footer&quot;&gt;
  &lt;slot name=&quot;footer&quot;&gt;&lt;/slot&gt;
&lt;/div&gt;
</code></pre>
<h3 id="-">控制显示与隐藏</h3>
<p>结构</p>
<pre><code class="lang-html">&lt;div class=&quot;hm-dialog__wrapper&quot; v-show=&quot;visible&quot;&gt;
</code></pre>
<p>点击遮罩层关闭</p>
<pre><code class="lang-html">&lt;div class=&quot;hm-dialog__wrapper&quot; v-show=&quot;visible&quot; @click.self=&quot;handleClose&quot;&gt;
</code></pre>
<p>点击关闭按钮关闭</p>
<pre><code class="lang-html"> &lt;button class=&quot;hm-dialog__headerbtn&quot; @click=&quot;handleClose&quot;&gt;
</code></pre>
<p>关闭处理</p>
<pre><code class="lang-js">handleClose () {
    this.$emit(&#39;update:visible&#39;, false)
}
</code></pre>
<h3 id="-">动画处理</h3>
<p>结构</p>
<pre><code class="lang-html">&lt;transition name=&quot;dialog-fade&quot; @after-enter=&quot;afterEnter&quot; @after-leave=&quot;afterLeave&quot;&gt;&lt;/transition&gt;
</code></pre>
<p>样式</p>
<pre><code class="lang-scss">.dialog-fade-enter-active {
  animation: dialog-fade-in .4s;
}

.dialog-fade-leave-active {
  animation: dialog-fade-out .4s;
}

@keyframes dialog-fade-in {
  0% {
    transform: translate3d(0, -20px, 0);
    opacity: 0;
  }
  100% {
    transform: translate3d(0, 0, 0);
    opacity: 1;
  }
}

@keyframes dialog-fade-out {
  0% {
    transform: translate3d(0, 0, 0);
    opacity: 1;
  }
  100% {
    transform: translate3d(0, -20px, 0);
    opacity: 0;
  }
}
</code></pre>
<p>js</p>
<pre><code class="lang-js">afterEnter () {
  this.$emit(&#39;opened&#39;)
},
afterLeave () {
  this.$emit(&#39;closed&#39;)
}
</code></pre>
<h2 id="input-">input组件</h2>
<h3 id="-">参数支持</h3>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数描述</th>
<th>参数类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>placeholder</td>
<td>占位符</td>
<td>string</td>
<td>无</td>
</tr>
<tr>
<td>type</td>
<td>文本框类型(text/password)</td>
<td>string</td>
<td>text</td>
</tr>
<tr>
<td>disabled</td>
<td>禁用</td>
<td>boolean</td>
<td>false</td>
</tr>
<tr>
<td>clearable</td>
<td>是否显示清空按钮</td>
<td>boolean</td>
<td>false</td>
</tr>
<tr>
<td>show-password</td>
<td>是否显示密码切换按钮</td>
<td>boolean</td>
<td>false</td>
</tr>
<tr>
<td>name</td>
<td>name属性</td>
<td>string</td>
<td>无</td>
</tr>
</tbody>
</table>
<h3 id="-">事件支持</h3>
<table>
<thead>
<tr>
<th>事件名称</th>
<th>事件描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>blur</td>
<td>失去焦点事件</td>
</tr>
<tr>
<td>change</td>
<td>内容改变事件</td>
</tr>
<tr>
<td>focus</td>
<td>获取的焦点事件</td>
</tr>
</tbody>
</table>
<h3 id="-">基本结构</h3>
<p>节本结构</p>
<pre><code class="lang-html">&lt;template&gt;
  &lt;div class=&quot;hm-input&quot;&gt;
    &lt;input type=&quot;text&quot; class=&quot;hm-input__inner&quot;&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<p>样式</p>
<pre><code class="lang-scss">.hm-input {
  width: 100%;
  position: relative;
  font-size: 14px;
  display: inline-block;
  .hm-input__inner {
    -webkit-appearance: none;
    background-color: #fff;
    background-image: none;
    border-radius: 4px;
    border: 1px solid #dcdfe6;
    box-sizing: border-box;
    color: #606266;
    display: inline-block;
    font-size: inherit;
    height: 40px;
    line-height: 40px;
    outline: none;
    padding: 0 15px;
    transition: border-color .2s cubic-bezier(.645,.045,.355,1);
    width: 100%;

    &amp;:focus {
      outline: none;
      border-color: #409eff;
    }
  }
}
</code></pre>
<h3 id="props-placeholde-type-name">props处理placeholde, type,name</h3>
<ul>
<li>placeholer</li>
</ul>
<pre><code class="lang-html">&lt;input type=&quot;text&quot; class=&quot;hm-input__inner&quot; :placeholder=&quot;placeholder&quot;&gt;
</code></pre>
<pre><code class="lang-js">  props: {
    placeholder: {
      type: String,
      default: &#39;&#39;
    }
  }
</code></pre>
<ul>
<li>type属性-密码框</li>
</ul>
<pre><code class="lang-html">    &lt;input
      class=&quot;hm-input__inner&quot;
      :placeholder=&quot;placeholder&quot;
      :type=&quot;type&quot;
      :disabled=&quot;disabled&quot;
    &gt;
</code></pre>
<pre><code class="lang-js">    type: {
      type: String,
      default: &#39;text&#39;
    },
</code></pre>
<h3 id="-disabled">禁用按钮-disabled</h3>
<p>结构</p>
<pre><code class="lang-html">&lt;div class=&quot;hm-input&quot;&gt;
  &lt;input
         class=&quot;hm-input__inner&quot;
         :class=&quot;{&#39;is-disabled&#39;: disabled}&quot;
         :placeholder=&quot;placeholder&quot;
         :type=&quot;type&quot;
         :disabled=&quot;disabled&quot;
         &gt;
&lt;/div&gt;
</code></pre>
<p>js</p>
<pre><code class="lang-js">    disabled: {
      type: Boolean,
      default: false
    }
</code></pre>
<p>样式</p>
<pre><code class="lang-html">    &amp;.is-disabled {
      background-color: #f5f7fa;
      border-color: #e4e7ed;
      color: #c0c4cc;
      cursor: not-allowed;
    }
</code></pre>
<h3 id="v-model-">v-model语法糖</h3>
<ul>
<li>v-model语法糖</li>
</ul>
<pre><code class="lang-js">给普通表单元素元素使用v-model
&lt;input type=&quot;text&quot; v-model=&quot;mes&quot;&gt;
&lt;input v-bind:value=&quot;mes&quot;  v-on:input=&quot;mes= $event.target.value&quot;/&gt;

给组件使用v-model指令,实质上相当于给组件传递了value属性以及监听了input事件
&lt;hm-input v-model=&quot;msg&quot;&gt;
等价与
&lt;hm-input v-bind:value=&quot;mes&quot;  v-on:input=&quot;mes= arguments[0]&quot;/&gt;
</code></pre>
<ul>
<li>html结构</li>
</ul>
<pre><code class="lang-html">&lt;div class=&quot;hm-input&quot;&gt;
  &lt;input
         class=&quot;hm-input__inner&quot;
         :class=&quot;{&#39;is-disabled&#39;: disabled}&quot;
         :placeholder=&quot;placeholder&quot;
         :type=&quot;type&quot;
         :disabled=&quot;disabled&quot;
         :value=&quot;value&quot;
         @input=&quot;handleInput&quot;
         &gt;
&lt;/div&gt;
</code></pre>
<p>js</p>
<pre><code class="lang-js">
props: {
  value: [String, Number]
},
methods: {
    handleInput (e) {
      this.$emit(&#39;input&#39;, e.target.value)
    }
  }
</code></pre>
<h3 id="clearable-show-password-">clearable与show-password处理</h3>
<p>如果给input组件传入clearable属性，会显示一个清空的按钮，如果传入show-password，则会显示一个用于切换密码显示的处理</p>
<ul>
<li>基本结构</li>
</ul>
<pre><code class="lang-html">&lt;span class=&quot;hm-input__suffix&quot;&gt;
  &lt;i class=&quot;hm-input__icon hm-icon-circle-close&quot;&gt;&lt;/i&gt;
  &lt;i class=&quot;hm-input__icon hm-icon-view&quot;&gt;&lt;/i&gt;
&lt;/span&gt;
</code></pre>
<ul>
<li>props接收</li>
</ul>
<pre><code class="lang-js">clearable: {
  type: Boolean,
  default: false
},
showPassword: {
  type: Boolean,
  default: false
}
</code></pre>
<ul>
<li>控制按钮显示和隐藏</li>
</ul>
<pre><code class="lang-html">&lt;span class=&quot;hm-input__suffix&quot;&gt;
  &lt;i class=&quot;hm-input__icon hm-icon-circle-close&quot; v-if=&quot;clearable&quot;&gt;&lt;/i&gt;
  &lt;i class=&quot;hm-input__icon hm-icon-view&quot; v-if=&quot;showPassword&quot;&gt;&lt;/i&gt;
&lt;/span&gt;
</code></pre>
<p>样式</p>
<pre><code class="lang-scss">.hm-input--suffix {
  .hm-input__inner {
    padding-right: 30px;
  }
  .hm-input__suffix {
    position: absolute;
    height: 100%;
    right: 10px;
    top: 0;
    line-height: 40px;
    text-align: center;
    color: #c0c4cc;
    transition: all .3s;
    z-index: 900;
    i {
      color: #c0c4cc;
      font-size: 14px;
      cursor: pointer;
      transition: color .2s cubic-bezier(.645,.045,.355,1);
    }
  }
}
</code></pre>
<ul>
<li>控制<code>hm-input--suffix</code>的类名</li>
</ul>
<pre><code class="lang-html">&lt;div class=&quot;hm-input&quot; :class=&quot;{&#39;hm-input--suffix&#39;: this.clearable || this.showPassword}&quot;&gt;

&lt;span class=&quot;hm-input__suffix&quot; v-if=&quot;this.clearable || this.showPassword&quot;&gt;
</code></pre>
<ul>
<li>使用计算属性优化</li>
</ul>
<pre><code class="lang-js">computed: {
  showSuffix () {
    return this.clearable || this.showPassword
  }
}
</code></pre>
<ul>
<li>注册事件-清空内容和切换密码显示</li>
</ul>
<pre><code class="lang-js">    clear () {
      // console.log(&#39;123&#39;)
      this.$emit(&#39;input&#39;, &#39;&#39;)
    }
</code></pre>
<ul>
<li>控制密码显示</li>
</ul>
<pre><code class="lang-js">data () {
  return {
    // 是否显示密码
    passwordVisible: false
  }
},

&lt;input
  class=&quot;hm-input__inner&quot;
  :class=&quot;{&#39;is-disabled&#39;: disabled}&quot;
  :placeholder=&quot;placeholder&quot;
  :type=&quot;showPassword ? (passwordVisible ? &#39;text&#39;: &#39;password&#39;) : type&quot;
  :name=&quot;name&quot;
  :disabled=&quot;disabled&quot;
  :value=&quot;value&quot;
  @input=&quot;handleInput&quot;
  ref=&quot;input&quot;
&gt;

handlePasswordVisible () {
  // 切换type类型
  this.passwordVisible = !this.passwordVisible
}
</code></pre>
<h3 id="-">其他常见事件的支持</h3>
<pre><code class="lang-js">    handleFocus (e) {
      this.$emit(&#39;focus&#39;, e)
    },
    handleBlur (e) {
      this.$emit(&#39;blur&#39;, e)
    },
    handleChange (e) {
      this.$emit(&#39;change&#39;, e.target.value)
    }
</code></pre>
<h2 id="switch-">switch组件</h2>
<h3 id="-">参数支持</h3>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数描述</th>
<th>参数类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>v-model</td>
<td>双向绑定</td>
<td>布尔类型</td>
<td>false</td>
</tr>
<tr>
<td>name</td>
<td>name属性</td>
<td>string</td>
<td>text</td>
</tr>
<tr>
<td>activeColor</td>
<td>自定义的激活的颜色</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>inactiveColor</td>
<td>自定义的不激活的颜色</td>
<td>string</td>
</tr>
</tbody>
</table>
<h3 id="-">事件支持</h3>
<table>
<thead>
<tr>
<th>事件名称</th>
<th>事件描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>change</td>
<td>change时触发的事件</td>
</tr>
</tbody>
</table>
<h3 id="-">基本结构</h3>
<ul>
<li>页面</li>
</ul>
<pre><code class="lang-html">&lt;template&gt;
  &lt;label class=&quot;hm-switch&quot;&gt;
    &lt;span class=&quot;hm-switch__core&quot;&gt;
      &lt;span class=&quot;hm-switch__button&quot;&gt;&lt;/span&gt;
    &lt;/span&gt;
  &lt;/label&gt;
&lt;/template&gt;
</code></pre>
<ul>
<li>样式</li>
</ul>
<pre><code class="lang-scss">.hm-switch {
  display: inline-flex;
  align-items: center;
  position: relative;
  font-size: 14px;
  line-height: 20px;
  height: 20px;
  vertical-align: middle;
  .hm-switch__core {
    margin: 0;
    display: inline-block;
    position: relative;
    width: 40px;
    height: 20px;
    border: 1px solid #dcdfe6;
    outline: none;
    border-radius: 10px;
    box-sizing: border-box;
    background: #dcdfe6;
    cursor: pointer;
    transition: border-color .3s,background-color .3s;
    vertical-align: middle;
    .hm-switch__button {
      position: absolute;
      top: 1px;
      left: 1px;
      border-radius: 100%;
      transition: all .3s;
      width: 16px;
      height: 16px;
      background-color: #fff;
    }
  }
}
</code></pre>
<h3 id="v-mode-">v-mode双向绑定</h3>
<ul>
<li>接收value值</li>
</ul>
<pre><code class="lang-js">props: {
  value: {
    type: Boolean,
    default: false
  }
},
</code></pre>
<ul>
<li>注册点击事件</li>
</ul>
<pre><code class="lang-html">&lt;div class=&quot;hm-switch&quot; @click=&quot;handleClick&quot;&gt;
</code></pre>
<ul>
<li>事件处理程序</li>
</ul>
<pre><code class="lang-js">methods: {
  handleClick () {
    this.$emit(&#39;input&#39;, !this.value)
  }
}
</code></pre>
<ul>
<li>选中样式</li>
</ul>
<pre><code class="lang-scss">.hm-switch.is-checked {
  .hm-switch__core {
    border-color: #409eff;
    background-color: #409eff;
    .hm-switch__button {
      transform: translateX(20px);
    }
  }
}
</code></pre>
<ul>
<li>控制选中样式</li>
</ul>
<pre><code class="lang-html">&lt;div class=&quot;hm-switch&quot; @click=&quot;handleClick&quot; :class=&quot;{&#39;is-checked&#39;: value}&quot;&gt;
</code></pre>
<h3 id="-">自定义颜色</h3>
<p>在使用switch时，希望能够自定义开关的颜色</p>
<pre><code class="lang-html">&lt;hm-switch
  v-model=&quot;value&quot;
  active-color=&quot;#13ce66&quot;
  inactive-color=&quot;#ff4949&quot;&gt;
&lt;/hm-switch&gt;
</code></pre>
<ul>
<li>props接收</li>
</ul>
<pre><code class="lang-js">activeColor: {
  type: String,
  default: &#39;&#39;
},
inactiveColor: {
  type: String,
  default: &#39;&#39;
}
</code></pre>
<ul>
<li>封装设置颜色的方法</li>
</ul>
<pre><code class="lang-js">setColor () {
  if (this.activeColor || this.inactiveColor) {
    let color = this.value ? this.activeColor : this.inactiveColor
    this.$refs.core.style.borderColor = color
    this.$refs.core.style.backgroundColor = color
  }
}
</code></pre>
<ul>
<li>页面一进入调用</li>
</ul>
<pre><code class="lang-js">mounted () {
  // 设置颜色
  this.setColor()
},
</code></pre>
<ul>
<li>改变状态后调用</li>
</ul>
<pre><code class="lang-js">async handleClick () {
  this.$emit(&#39;input&#39;, !this.value)
  // 改变input框的值
  await this.$nextTick()
  this.setColor()
},
</code></pre>
<h3 id="name-">name属性支持</h3>
<p>用户在使用switch组件的时候，实质上是当成表单元素来使用的。因此可能会用到组件的name属性。<strong>因此需要在switch组件中添加一个checkbox，并且当值改变的时候，也需要设置checkbox的value值</strong></p>
<ul>
<li>结构</li>
</ul>
<pre><code class="lang-html">&lt;input
  class=&quot;hm-switch__input&quot;
  type=&quot;checkbox&quot;
&gt;
</code></pre>
<ul>
<li>样式</li>
</ul>
<pre><code class="lang-scss">.hm-switch__input {
  position: absolute;
  width: 0;
  height: 0;
  opacity: 0;
  margin: 0;
}
</code></pre>
<ul>
<li>name属性的支持</li>
</ul>
<pre><code class="lang-js">name: {
  type: String,
  default: &#39;&#39;
}
</code></pre>
<ul>
<li>控制checkbox的值与value同步</li>
</ul>
<pre><code class="lang-js">  mounted () {
    this.$refs.input.checked = this.value
  },
  methods: {
    async handleChange () {
      this.$emit(&#39;input&#39;, !this.value)
      // 修改checkbox的值
      await this.$nextTick()
      this.$refs.input.checked = this.value
    }
  }
</code></pre>
<h2 id="radio-">radio组件</h2>
<h3 id="-">前置知识点</h3>
<pre><code class="lang-js">radio的基本使用
</code></pre>
<h3 id="-">参数支持</h3>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数描述</th>
<th>参数类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>v-model</td>
<td>双向绑定</td>
<td>布尔类型</td>
<td>false</td>
</tr>
<tr>
<td>label</td>
<td>单选框的value值</td>
<td>string，num,boolean</td>
<td>&#39;&#39;</td>
</tr>
<tr>
<td>name</td>
<td>name属性</td>
<td>string</td>
</tr>
</tbody>
</table>
<h3 id="-">基本结构</h3>
<ul>
<li>html结构</li>
</ul>
<pre><code class="lang-html">&lt;template&gt;
  &lt;label class=&quot;hm-radio&quot;&gt;
    &lt;span class=&quot;hm-radio__input&quot;&gt;
      &lt;span class=&quot;hm-radio__inner&quot;&gt;&lt;/span&gt;
      &lt;input
        class=&quot;hm-radio__original&quot;
        type=&quot;radio&quot;
      &gt;
    &lt;/span&gt;
    &lt;span class=&quot;hm-radio__label&quot;&gt;
      我是label
    &lt;/span&gt;
  &lt;/label&gt;
&lt;/template&gt;
</code></pre>
<ul>
<li>样式</li>
</ul>
<pre><code class="lang-scss">.hm-radio {
  color: #606266;
  font-weight: 500;
  line-height: 1;
  position: relative;
  cursor: pointer;
  display: inline-block;
  white-space: nowrap;
  outline: none;
  font-size: 14px;
  margin-right: 30px;
  -moz-user-select: none;
  -webkit-user-select: none;
  -ms-user-select: none;
  .hm-radio__input {
    white-space: nowrap;
    cursor: pointer;
    outline: none;
    display: inline-block;
    line-height: 1;
    position: relative;
    vertical-align: middle;
    .hm-radio__inner {
      border: 1px solid #dcdfe6;
      border-radius: 100%;
      width: 14px;
      height: 14px;
      background-color: #fff;
      position: relative;
      cursor: pointer;
      display: inline-block;
      box-sizing: border-box;
      &amp;:after {
        width: 4px;
        height: 4px;
        border-radius: 100%;
        background-color: #fff;
        content: &quot;&quot;;
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%,-50%) scale(0);
        transition: transform .15s ease-in;
      }
    }
    .hm-radio__original {
      opacity: 0;
      outline: none;
      position: absolute;
      z-index: -1;
      top: 0;
      left: 0px;
      right: 0;
      bottom: 0;
      margin: 0;
    }
  }
  .hm-radio__label {
    font-size: 14px;
    padding-left: 10px;
  }
}
</code></pre>
<h3 id="-">选中的样式</h3>
<pre><code class="lang-js">.hm-radio.is-checked {
  .hm-radio__input {
    .hm-radio__inner {
      border-color: #409eff;
      background: #409eff;
      &amp;:after {
        transform: translate(-50%,-50%) scale(1);
      }
    }
  }
  .hm-radio__label {
    color: #409eff;
  }
}
</code></pre>
<h3 id="label-">label与插槽的处理</h3>
<ul>
<li>props接收</li>
</ul>
<pre><code class="lang-js">props: {
  label: {
    type: String,
    default: &#39;&#39;
  },
  name: {
    type: String,
    default: &#39;&#39;
  }
}
</code></pre>
<ul>
<li>处理插槽</li>
</ul>
<pre><code class="lang-html">&lt;span class=&quot;hm-radio__label&quot;&gt;
  &lt;slot&gt;&lt;/slot&gt;
  &lt;!-- 如果没有插槽内容，那么label就是内容 --&gt;
  &lt;template v-if=&quot;!$slots.default&quot;&gt;{{label}}&lt;/template&gt;
&lt;/span&gt;
</code></pre>
<h3 id="v-model-">v-model处理</h3>
<ul>
<li>接收props数据</li>
</ul>
<pre><code class="lang-js">name: {
  type: String,
  default: &#39;&#39;
},
value: {
  type: [String, Boolean, Number],
  default: &#39;&#39;
}
</code></pre>
<ul>
<li>结构</li>
</ul>
<pre><code class="lang-html">&lt;input
  class=&quot;hm-radio__original&quot;
  type=&quot;radio&quot;
  :name=&quot;name&quot;
  value=&quot;label&quot;
  v-model=&quot;model&quot;
&gt;
</code></pre>
<ul>
<li>提供计算属性</li>
</ul>
<pre><code class="lang-html">computed: {
  model: {
    get () {
      return this.value
    },
    set (value) {
      this.$emit(&#39;input&#39;, value)
    }
  }
},

</code></pre>
<ul>
<li>控制选中样式</li>
</ul>
<pre><code class="lang-html">&lt;label class=&quot;hm-radio&quot; :class=&quot;{&#39;is-checked&#39;: model === label}&quot;&gt;

</code></pre>
<h2 id="radio-group-">radio-group组件</h2>
<p>使用radio组件的缺点，需要给每个组件都绑定v-mode,可以使用radio-group包裹</p>
<h3 id="-">前置知识</h3>
<pre><code class="lang-js">provide与inject

</code></pre>
<h3 id="-">基本结构</h3>
<p>结构</p>
<pre><code class="lang-html">&lt;template&gt;
  &lt;div class=&quot;radio-group&quot;&gt;
    &lt;slot&gt;&lt;/slot&gt;
  &lt;/div&gt;
&lt;/template&gt;

</code></pre>
<p>数据</p>
<pre><code class="lang-html">export default {
  name: &#39;HmRadioGroup&#39;,
  provide () {
    return {
      RadioGroup: this
    }
  },
  props: {
    value: null
  }
}

</code></pre>
<h3 id="-radio-">修改radio组件</h3>
<ul>
<li>接收inject</li>
</ul>
<pre><code class="lang-js">inject: {
  RadioGroup: {
    default: &#39;&#39;
  }
},

</code></pre>
<ul>
<li>计算属性判断是否包裹在group中</li>
</ul>
<pre><code class="lang-js">// 判断包裹在group中
isGroup () {
  return !!this.RadioGroup
}

</code></pre>
<ul>
<li>修改代码</li>
</ul>
<pre><code class="lang-js">model: {
  get () {
    return this.isGroup ? this.RadioGroup.value : this.value
  },
  set (value) {
    this.isGroup ? this.RadioGroup.$emit(&#39;input&#39;, value) : this.$emit(&#39;input&#39;, value)
  }
}

</code></pre>
<h2 id="checkbox-">checkbox组件</h2>
<h3 id="-">基本结构</h3>
<pre><code class="lang-html">&lt;template&gt;
  &lt;label class=&quot;hm-checkbox&quot;&gt;
    &lt;span class=&quot;hm-checkbox__input&quot;&gt;
      &lt;span class=&quot;hm-checkbox__inner&quot;&gt;&lt;/span&gt;
      &lt;input type=&quot;checkbox&quot; class=&quot;hm-checkbox__original&quot;&gt;
    &lt;/span&gt;
    &lt;span class=&quot;hm-checkbox__label&quot;&gt;
      &lt;slot&gt;&lt;/slot&gt;
      &lt;template v-if=&quot;!$slots.default&quot;&gt;{{label}}&lt;/template&gt;
    &lt;/span&gt;
  &lt;/label&gt;
&lt;/template&gt;

</code></pre>
<p>样式</p>
<pre><code class="lang-scss">.hm-checkbox {
  color: #606266;
  font-weight: 500;
  font-size: 14px;
  position: relative;
  cursor: pointer;
  display: inline-block;
  white-space: nowrap;
  user-select: none;
  margin-right: 30px;
  .hm-checkbox__input {
    white-space: nowrap;
    cursor: pointer;
    outline: none;
    display: inline-block;
    line-height: 1;
    position: relative;
    vertical-align: middle;
    .hm-checkbox__inner {
      display: inline-block;
      position: relative;
      border: 1px solid #dcdfe6;
      border-radius: 2px;
      box-sizing: border-box;
      width: 14px;
      height: 14px;
      background-color: #fff;
      z-index: 1;
      transition: border-color .25s cubic-bezier(.71,-.46,.29,1.46),background-color .25s cubic-bezier(.71,-.46,.29,1.46);
      &amp;:after {
        box-sizing: content-box;
        content: &quot;&quot;;
        border: 1px solid #fff;
        border-left: 0;
        border-top: 0;
        height: 7px;
        left: 4px;
        position: absolute;
        top: 1px;
        transform: rotate(45deg) scaleY(0);
        width: 3px;
        transition: transform .15s ease-in .05s;
        transform-origin: center;
      }
    }
    .hm-checkbox__original {
      opacity: 0;
      outline: none;
      position: absolute;
      left: 10px;
      margin: 0;
      width: 0;
      height: 0;
      z-index: -1;
    }
  }
  .hm-checkbox__label {
    display: inline-block;
    padding-left: 10px;
    line-height: 19px;
    font-size: 14px;
  }
}

</code></pre>
<h3 id="-">选中的样式</h3>
<pre><code class="lang-scss">.hm-checkbox.is-checked {
  .hm-checkbox__input {
    .hm-checkbox__inner {
      background-color: #409eff;
      border-color: #409eff;
      &amp;:after {
        transform: rotate(45deg) scaleY(1);
      }
    }
  }
  .hm-checkbox__label {
    color: #409eff;
  }
}

</code></pre>
<h3 id="-props-">接收props数据</h3>
<pre><code class="lang-js">value: {
  type: Boolean,
  default: false
},
name: {
  type: String,
  default: &#39;&#39;
},
label: {
  type: String,
  default: &#39;&#39;
}

</code></pre>
<h3 id="-checked-">控制checked样式</h3>
<ul>
<li>控制label</li>
</ul>
<pre><code class="lang-html">&lt;span class=&quot;hm-checkbox__label&quot;&gt;
  &lt;slot&gt;&lt;/slot&gt;
  &lt;template v-if=&quot;!$slots.default&quot;&gt;{{label}}&lt;/template&gt;
&lt;/span&gt;

</code></pre>
<ul>
<li>提供model计算属性</li>
</ul>
<pre><code class="lang-js">model: {
  get () {
    return this.value
  },
  set (value) {
    this.$emit(&#39;input&#39;, value)
  }
}

</code></pre>
<ul>
<li>判断是否选中</li>
</ul>
<pre><code class="lang-js">&lt;label class=&quot;hm-checkbox&quot; :class=&quot;{&#39;is-checked&#39;: value}&quot;&gt;

</code></pre>
<h2 id="checkbox-group-">checkbox-group组件</h2>
<p>使用checkbox-group组件包裹checkbox</p>
<h3 id="-">结构</h3>
<pre><code class="lang-html">&lt;template&gt;
  &lt;div class=&quot;hm-checkbox-group&quot;&gt;
    &lt;slot&gt;&lt;/slot&gt;
  &lt;/div&gt;
&lt;/template&gt;


</code></pre>
<ul>
<li>提供provide</li>
</ul>
<pre><code class="lang-js">props: {
  value: {
    type: Array,
    default: function () {
      return []
    }
  }
},
provide () {
  return {
    CheckboxGroup: this
  }
}

</code></pre>
<h3 id="-checkbox">修改checkbox</h3>
<ul>
<li>接收inject</li>
</ul>
<pre><code class="lang-js">inject: {
  CheckboxGroup: {
    default: &#39;&#39;
  }
},

</code></pre>
<ul>
<li>修改</li>
</ul>
<pre><code class="lang-js">    model: {
      get () {
        return this.isGroup ? this.CheckboxGroup.value : this.value
      },
      set (value) {
        if (this.isGroup) {
          // 修改value属性
          console.log(value, this.label)
          this.CheckboxGroup.$emit(&#39;input&#39;, value)
        } else {
          this.$emit(&#39;input&#39;, value)
        }
      }
    },  
isGroup () {
    return !!this.CheckboxGroup
  },
  isChecked () {
    // 判断是否选中
    // console.log(this.model)
    if (this.isGroup) {
      return this.model.includes(this.label)
    } else {
      return this.model
    }
  }

</code></pre>
<h2 id="form-">form组件</h2>
<p>基本结构</p>
<pre><code class="lang-html">&lt;template&gt;
  &lt;div class=&quot;hm-form&quot;&gt;
    &lt;slot&gt;&lt;/slot&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  name: &#39;HmForm&#39;,
  provide () {
    return {
      Form: this
    }
  },
  props: {
    model: {
      type: Object,
      required: true
    },
    labelWidth: {
      type: String,
      default: &#39;80px&#39;
    }
  }
}
&lt;/script&gt;

&lt;style&gt;

&lt;/style&gt;

</code></pre>
<h2 id="form-item-">form-item组件</h2>
<p>基本结构</p>
<pre><code class="lang-html">&lt;template&gt;
  &lt;div class=&quot;hm-form-item&quot;&gt;
    &lt;label class=&quot;hm-form-item__label&quot; :style=&quot;labelStyle&quot;&gt;{{label}}&lt;/label&gt;
    &lt;div class=&quot;hm-form-item__content&quot;&gt;
      &lt;slot&gt;&lt;/slot&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  name: &#39;HmFormItem&#39;,
  props: {
    label: {
      type: String,
      default: &#39;&#39;
    }
  },
  inject: [&#39;Form&#39;],
  computed: {
    labelStyle () {
      return {
        width: this.Form.labelWidth
      }
    }
  }
}
&lt;/script&gt;

&lt;style lang=&quot;scss&quot;&gt;
.hm-form-item {
  margin-bottom: 25px;
  .hm-form-item__label {
    text-align: right;
    vertical-align: middle;
    float: left;
    font-size: 14px;
    color: #606266;
    line-height: 40px;
    padding: 0 12px 0 0;
    box-sizing: border-box;
  }
  .hm-form-item__content {
    line-height: 40px;
    position: relative;
    font-size: 14px;
    overflow: hidden;
  }
}
&lt;/style&gt;


</code></pre>
<h1 id="-ui-">封装成UI组件库</h1>
<h2 id="-">目录调整</h2>
<ul>
<li>根目录创建两个文件夹<code>packages</code>和<code>examples</code></li>
</ul>
<pre><code class="lang-js">packages: 用于存放所有的组件
examples: 用于进行测试,把src改成examples

</code></pre>
<ul>
<li><p>把components中所有的组件放入到packages中</p>
</li>
<li><p>把fonts放到packages中</p>
</li>
<li><p>删除原来的src目录</p>
</li>
</ul>
<h2 id="vue-config-js-">vue.config.js配置</h2>
<p>新增<code>vue.config.js</code>配置</p>
<pre><code class="lang-js">const path = require(&#39;path&#39;)
module.exports = {
  pages: {
    index: {
      entry: &#39;examples/main.js&#39;,
      template: &#39;public/index.html&#39;,
      filename: &#39;index.html&#39;
    }
  },
  // 扩展 webpack 配置，使 packages 加入编译
  chainWebpack: config =&gt; {
    config.module
      .rule(&#39;js&#39;)
      .include.add(path.resolve(__dirname, &#39;packages&#39;)).end()
      .use(&#39;babel&#39;)
      .loader(&#39;babel-loader&#39;)
      .tap(options =&gt; {
        // 修改它的选项...
        return options
      })
  }
}

</code></pre>
<ul>
<li>统一导出packages中所有的组件</li>
</ul>
<pre><code class="lang-js">// 统一导出
// 导入颜色选择器组件
import Button from &#39;./button&#39;
import Dialog from &#39;./dialog&#39;
import Input from &#39;./input&#39;
import Checkbox from &#39;./checkbox&#39;
import Radio from &#39;./radio&#39;
import RadioGroup from &#39;./radio-group&#39;
import Switch from &#39;./switch&#39;
import CheckboxGroup from &#39;./checkbox-group&#39;
import Form from &#39;./form&#39;
import FormItem from &#39;./form-item&#39;
import &#39;./fonts/font.scss&#39;

// 存储组件列表
const components = [
  Button,
  Dialog,
  Input,
  Checkbox,
  Radio,
  RadioGroup,
  Switch,
  CheckboxGroup,
  Form,
  FormItem
]

// 定义 install 方法，接收 Vue 作为参数。如果使用 use 注册插件，则所有的组件都将被注册
const install = function (Vue) {
  // 遍历注册全局组件
  components.forEach(component =&gt; {
    Vue.component(component.name, component)
  })
}

// 判断是否是直接引入文件,如果是，就不用调用 Vue.use()
if (typeof window !== &#39;undefined&#39; &amp;&amp; window.Vue) {
  install(window.Vue)
}

// 导出的对象必须具有 install，才能被 Vue.use() 方法安装
export default {
  install
}


</code></pre>
<h2 id="-">测试</h2>
<p>在examples中的main.js中进行导入测试</p>
<pre><code class="lang-js">import Vue from &#39;vue&#39;
import App from &#39;./App.vue&#39;

import HeimaUI from &#39;../packages&#39;

Vue.use(HeimaUI)

Vue.config.productionTip = false

new Vue({
  render: h =&gt; h(App)
}).$mount(&#39;#app&#39;)


</code></pre>
<h1 id="-npm-github">发布到npm与github</h1>
<h2 id="-github">发布到github</h2>
<h2 id="-npm">发布到npm</h2>
<p> <a href="https://cli.vuejs.org/zh/guide/build-targets.html#库">https://cli.vuejs.org/zh/guide/build-targets.html#%E5%BA%93</a> </p>
<ul>
<li>在scripts中新增一条 打包命令</li>
</ul>
<pre><code class="lang-js">&quot;lib&quot;: &quot;vue-cli-service build --target lib packages/index.js&quot;

</code></pre>
<ul>
<li>发布到npm</li>
</ul>
<p>修改package.json文件</p>
<pre><code class="lang-js">&quot;private&quot;: false,
&quot;main&quot;: &quot;dist/itcast-ui.umd.min.js&quot;,
&quot;author&quot;: {
  &quot;name&quot;: &quot;胡聪聪&quot;
},

</code></pre>
<p>增加 <code></code>.npmignore`文件</p>
<pre><code class="lang-js"># 忽略目录
examples/
packages/
public/

# 忽略指定文件
vue.config.js
babel.config.js
*.map

</code></pre>
<ul>
<li>npm发布</li>
</ul>
<pre><code class="lang-js">npm login
npm publish

</code></pre>
</article>
  </div>
</body>
</html>
<script type="text/javascript" src="lib/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="lib/js/jquery.ztree.all-3.5.min.js"></script>
<script type="text/javascript" src="lib/js/ztree_toc.min.js"></script>
<script type="text/javascript" src="lib/js/toc_conf.js"></script>
<script src="lib/js/highlight.min.js"></script>
<script>
  $(document).ready(function () {
    // 代码高亮的js代码
    hljs.initHighlightingOnLoad();

    //生成侧边栏的代码
    var css_conf = eval(markdown_panel_style);
    $('#readme').css(css_conf)

    var conf = eval(jquery_ztree_toc_opts);
    $('#tree').ztree_toc(conf);
  });
</script>